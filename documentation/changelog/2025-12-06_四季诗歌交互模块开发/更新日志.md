# å››å­£è¯—æ­Œäº¤äº’æ¨¡å—å¼€å‘ - æ›´æ–°æ—¥å¿—

> **æ›´æ–°æ—¥æœŸ**: 2025-12-06  
> **æ›´æ–°ç±»å‹**: æ–°åŠŸèƒ½å¼€å‘ / æ€§èƒ½ä¼˜åŒ–  
> **å½±å“èŒƒå›´**: pending/003_fourseasonsæ¨¡å—ã€001_newarrivalå­—ä½“ä¼˜åŒ–  

---

## ğŸ“‹ æ›´æ–°æ¦‚è¿°

æœ¬æ¬¡æ›´æ–°å¼€å‘äº†å…¨æ–°çš„å››å­£è¯—æ­Œäº¤äº’æ¨¡å—ï¼ˆ003_fourseasonsï¼‰ï¼ŒåŸºäºThree.jså’ŒTroikaå®ç°3Dæ–‡å­—ç²’å­æ•ˆæœï¼Œæ”¯æŒæ˜¥å¤ç§‹å†¬å››å­£åˆ‡æ¢ï¼Œæ¯ä¸ªå­£èŠ‚æœ‰ç‹¬ç‰¹çš„è§†è§‰æ•ˆæœå’Œäº¤äº’æ–¹å¼ã€‚åŒæ—¶ä¼˜åŒ–äº†å­—ä½“åŠ è½½ç­–ç•¥ï¼Œè§£å†³ç§»åŠ¨ç«¯åŠ è½½ç¼“æ…¢é—®é¢˜ã€‚

### ğŸ¯ æ ¸å¿ƒç›®æ ‡
- åˆ›å»ºå››å­£è¯—æ­Œäº¤äº’ä½“éªŒ
- å®ç°3Dæ–‡å­—ç²’å­æ•ˆæœ
- ä¼˜åŒ–ç§»åŠ¨ç«¯å­—ä½“åŠ è½½æ€§èƒ½
- æä¾›å­—ä½“å­é›†åŒ–å·¥å…·

---

## ğŸ”§ æŠ€æœ¯å˜æ›´

### A. 003_fourseasonsæ¨¡å—åˆ›å»º

#### A.1 æ ¸å¿ƒæ¶æ„
- **Three.jsåœºæ™¯**: `useThreeScene.ts` - ç›¸æœºã€æ¸²æŸ“å™¨ã€åŠ¨ç”»å¾ªç¯
- **æ–‡å­—ç²’å­ç³»ç»Ÿ**: `useTextParticles.ts` - Troika 3Dæ–‡å­—ã€å¡ç‰‡èƒŒæ™¯ã€shaderæè´¨
- **å­£èŠ‚æ•ˆæœè°ƒåº¦**: `useSeasonEffects.ts` - ç»Ÿä¸€ç®¡ç†å››å­£å‚æ•°å’Œæ•ˆæœ
- **ä¼ æ„Ÿå™¨äº¤äº’**: `useSensors.ts` - è§¦æ‘¸ã€é™€èºä»ªã€æ‘‡æ™ƒæ£€æµ‹

#### A.2 å››å­£æ•ˆæœï¼ˆæ‹†åˆ†ä¸ºç‹¬ç«‹æ¨¡å—ï¼‰
- `effects/spring.ts` - ç”Ÿé•¿æ•ˆæœï¼šè§¦æ‘¸è®©æ–‡å­—å‘èŠ½
- `effects/summer.ts` - è’¸å‘æ•ˆæœï¼š30ç§’åŠ¨ç”»ï¼Œç«ç„°ç‡ƒçƒ§shader
- `effects/autumn.ts` - é£˜è½æ•ˆæœï¼šå€¾æ–œæ‰‹æœºï¼Œæ–‡å­—å¦‚è½å¶
- `effects/winter.ts` - å†°å°æ•ˆæœï¼šæ‘‡æ™ƒæ‰‹æœºèåŒ–å†°éœœ

#### A.3 å¤å­£æ•ˆæœä¼˜åŒ–
- å»æ‰åˆ†åŒºå»¶è¿Ÿï¼Œæ”¹ç”¨çº¯å™ªå£°è¾¹ç¼˜
- è°ƒæ•´åŠ¨ç”»æ—¶é•¿è‡³30ç§’
- åŒæ­¥å¡ç‰‡ç‡ƒçƒ§å’Œæ–‡å­—è’¸å‘æ—¶æœº

### B. å­—ä½“ä¼˜åŒ–

#### B.1 é—®é¢˜è¯Šæ–­
- Troikaé»˜è®¤ä»CDNåŠ è½½å­—ä½“
- ä¸­æ–‡å­—ä½“10-20MBï¼Œç§»åŠ¨ç«¯åŠ è½½ææ…¢
- éƒ¨åˆ†ä¸­æ–‡å­—ç¬¦æ˜¾ç¤ºä¸å…¨

#### B.2 è§£å†³æ–¹æ¡ˆï¼šæœ¬åœ°å­é›†åŒ–å­—ä½“
- ä½¿ç”¨pyftsubsetæå–è¯—æ­Œ/charPoolç”¨åˆ°çš„å­—ç¬¦
- 001æ¨¡å—ï¼š718å­—ç¬¦ â†’ 208KBï¼ˆåŸ11.8MBï¼Œå‹ç¼©56å€ï¼‰
- 003æ¨¡å—ï¼š706å­—ç¬¦ â†’ 210KB

#### B.3 å­—ä½“å­é›†åŒ–å·¥å…·
- `tools/subset-font.py` - äº¤äº’å¼å‘½ä»¤è¡Œå·¥å…·
- æ”¯æŒä¸‰ç§æ¨¡å¼ï¼š
  1. ä»ä»£ç æ–‡ä»¶æå–ä¸­æ–‡å­—ç¬¦
  2. ä»å­—ç¬¦æ–‡ä»¶è¯»å–
  3. ç›´æ¥è¾“å…¥å­—ç¬¦ä¸²

---

## ğŸ“ æ–‡ä»¶å˜æ›´

### æ–°å¢æ–‡ä»¶
```
pending/003_fourseasons/
â”œâ”€â”€ assets/fonts/æ€æºå®‹ä½“-subset.ttf     â† å­é›†å­—ä½“ï¼ˆ210KBï¼‰
â”œâ”€â”€ components/
â”‚   â”œâ”€â”€ PoemScene.vue                    â† è¯—æ­Œ3Dåœºæ™¯
â”‚   â””â”€â”€ SeasonSelector.vue               â† å­£èŠ‚é€‰æ‹©å™¨
â”œâ”€â”€ composables/
â”‚   â”œâ”€â”€ useThreeScene.ts                 â† Three.jsåœºæ™¯ç®¡ç†
â”‚   â”œâ”€â”€ useTextParticles.ts              â† æ–‡å­—ç²’å­ç³»ç»Ÿ
â”‚   â”œâ”€â”€ useSeasonEffects.ts              â† å­£èŠ‚æ•ˆæœè°ƒåº¦
â”‚   â”œâ”€â”€ useSensors.ts                    â† ä¼ æ„Ÿå™¨äº¤äº’
â”‚   â””â”€â”€ effects/
â”‚       â”œâ”€â”€ index.ts
â”‚       â”œâ”€â”€ spring.ts
â”‚       â”œâ”€â”€ summer.ts
â”‚       â”œâ”€â”€ autumn.ts
â”‚       â””â”€â”€ winter.ts
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ poems.ts                         â† å››å­£è¯—æ­Œæ•°æ®
â”‚   â””â”€â”€ æ–½å²³å®_èŠ‚æ°”è¯—é€‰.md               â† åŸå§‹ç´ æ
â”œâ”€â”€ views/
â”‚   â””â”€â”€ FourSeasonsView.vue              â† ä¸»è§†å›¾
â””â”€â”€ index.ts                             â† æ¨¡å—å…¥å£

pending/001_newarrival/
â””â”€â”€ assets/fonts/æ€æºå®‹ä½“-subset.ttf     â† å­é›†å­—ä½“ï¼ˆ208KBï¼‰

tools/
â””â”€â”€ subset-font.py                       â† å­—ä½“å­é›†åŒ–å·¥å…·
```

### ä¿®æ”¹æ–‡ä»¶
- `001_newarrival/components/VendingMachine3D.vue` - å¼•ç”¨æœ¬åœ°å­—ä½“
- `router/index.ts` - æ·»åŠ fourseasonsè·¯ç”±
- `pending/views/MainProjectSelection.vue` - æ·»åŠ å››å­£å…¥å£
- `.gitignore` - æ·»åŠ .assets-localç›®å½•

---

## ğŸ“Š å…³è”Commits

| Commit | æè¿° |
|--------|------|
| `af70a22` | feat(fourseasons): åˆ›å»ºå››å­£è¯—æ­Œäº¤äº’æ¨¡å— |
| `ed775bb` | refactor(fourseasons): æ‹†åˆ†å­£èŠ‚æ•ˆæœä¸ºç‹¬ç«‹æ¨¡å— |
| `2681a37` | feat(summer): ä¼˜åŒ–è’¸å‘æ•ˆæœ - å»æ‰åˆ†åŒºå»¶è¿Ÿ |
| `f2a7d34` | feat(summer): è°ƒæ•´è’¸å‘åŠ¨ç”»æ—¶é•¿è‡³30ç§’ |
| `42d9f8a` | feat: æ·»åŠ æœ¬åœ°å­é›†åŒ–æ€æºå®‹ä½“å­—ä½“ |
| `71be519` | feat(001): æ·»åŠ æœ¬åœ°å­é›†å­—ä½“ä¼˜åŒ–æ»šåŠ¨å±å¹•åŠ è½½ |
| `713f838` | feat: æ·»åŠ äº¤äº’å¼å­—ä½“å­é›†åŒ–å·¥å…· |

---

## âœ… éªŒè¯ç»“æœ

- [x] type-check é€šè¿‡
- [x] build é€šè¿‡
- [x] å››å­£åˆ‡æ¢æ­£å¸¸
- [x] ç§»åŠ¨ç«¯å­—ä½“åŠ è½½é€Ÿåº¦æ˜¾è‘—æ”¹å–„
- [x] å¤å­£è’¸å‘æ•ˆæœ30ç§’åŠ¨ç”»æµç•…

---

## ğŸ“ æŠ€æœ¯è¯´æ˜

### Troika-three-text
- åŸºäºSDFï¼ˆæœ‰ç¬¦å·è·ç¦»åœºï¼‰çš„3Dæ–‡å­—æ¸²æŸ“
- æ”¯æŒä»»æ„å­—ä½“ã€ä»»æ„è¯­è¨€
- å¿…é¡»åŠ è½½å®Œæ•´å­—ä½“æ–‡ä»¶æ‰èƒ½æ¸²æŸ“

### å­—ä½“å­é›†åŒ–
- ä½¿ç”¨fonttoolsçš„pyftsubsetå·¥å…·
- åªä¿ç•™å®é™…ç”¨åˆ°çš„å­—ç¬¦
- å¤§å¹…å‡å°‘æ–‡ä»¶ä½“ç§¯

### Viteæ‡’åŠ è½½
- æ¨¡å—ç‹¬ç«‹æ‰“åŒ…
- å­—ä½“éšæ¨¡å—chunkåŠ è½½
- ä¸è¿›æ¨¡å— = ä¸åŠ è½½å­—ä½“

---

*åˆ›å»ºæ—¶é—´: 2025-12-06*
*å®Œæˆæ—¶é—´: 2025-12-06*
