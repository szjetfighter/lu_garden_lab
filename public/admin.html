<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>诗歌篇目管理</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
        }
        .sidebar {
            width: 280px;
            min-width: 280px;
        }
        .editor-container {
            height: calc(100vh - 200px);
        }
        #editor {
            font-family: 'Menlo', 'Monaco', 'Courier New', monospace;
            height: 100%;
            border: 1px solid #d1d5db;
            border-radius: 0.375rem;
            padding: 1rem;
        }
        .file-item:hover, .folder-item:hover {
            background-color: #f3f4f6;
        }
        .file-item.selected {
            background-color: #e5e7eb;
        }
    </style>
</head>
<body class="bg-gray-100">

    <div class="flex h-screen">
        <!-- Sidebar -->
        <div class="sidebar bg-white border-r border-gray-200 flex flex-col">
            <div class="p-4 border-b border-gray-200">
                <h1 class="text-xl font-bold">诗歌篇目管理</h1>
            </div>
            <div class="p-4 flex gap-2">
                 <button id="new-file-btn" class="flex-1 bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 text-sm">
                    <i class="fas fa-file-plus mr-1"></i> 新建篇目
                </button>
                <button id="new-folder-btn" class="flex-1 bg-gray-500 text-white px-4 py-2 rounded hover:bg-gray-600 text-sm">
                    <i class="fas fa-folder-plus mr-1"></i> 新建文件夹
                </button>
            </div>
            <div id="file-tree" class="flex-grow p-4 overflow-auto">
                <!-- File tree will be rendered here -->
            </div>
        </div>

        <!-- Main Content -->
        <div class="flex-1 flex flex-col">
            <div class="p-4 border-b border-gray-200 bg-white flex justify-between items-center">
                <div>
                    <span class="font-semibold text-gray-700">当前文件:</span>
                    <span id="current-file-path" class="text-gray-500">未选择文件</span>
                </div>
                <div>
                    <button id="save-btn" class="bg-green-500 text-white px-6 py-2 rounded hover:bg-green-600 disabled:bg-gray-400" disabled>
                        <i class="fas fa-save mr-1"></i> 保存
                    </button>
                    <button id="delete-btn" class="bg-red-500 text-white px-6 py-2 rounded hover:bg-red-600 disabled:bg-gray-400" disabled>
                        <i class="fas fa-trash-alt mr-1"></i> 删除
                    </button>
                </div>
            </div>
            <div class="flex-grow p-4">
                <div class="editor-container bg-white rounded-lg shadow-sm">
                    <textarea id="editor" class="w-full h-full resize-none outline-none" placeholder="选择一个文件进行编辑，或新建一个文件。"></textarea>
                </div>
            </div>
             <div class="p-4 text-sm text-gray-500 bg-gray-100 border-t border-gray-200">
                <p><strong>说明:</strong> 文件名将作为诗歌标题 (无需.txt后缀)。支持创建文件夹来组织诗歌。</p>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>
    <script src="/admin.js"></script>
</body>
</html> 